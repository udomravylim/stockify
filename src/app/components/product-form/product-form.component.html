<div class="modal-overlay" (click)="onCancel()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>{{ isEditing ? 'Edit Product' : 'Add Product' }}</h2>
      <button class="close-btn" (click)="onCancel()">&times;</button>
    </div>

    <form (ngSubmit)="onSubmit()">
      @if (error) {
        <div class="error-message">{{ error }}</div>
      }

      <div class="form-group">
        <label for="name">Name *</label>
        <input 
          type="text" 
          id="name" 
          [(ngModel)]="formData.name" 
          name="name"
          required>
      </div>

      <div class="form-group">
        <label for="quantity">Quantity *</label>
        <input 
          type="number" 
          id="quantity" 
          [(ngModel)]="formData.quantity" 
          name="quantity"
          min="0"
          required>
      </div>

      <div class="form-group">
        <label for="price">Price *</label>
        <input 
          type="number" 
          id="price" 
          [(ngModel)]="formData.price" 
          name="price"
          min="0"
          step="0.01"
          required>
      </div>

      <div class="form-group">
        <label for="category">Category *</label>
        <input 
          type="text" 
          id="category" 
          [(ngModel)]="formData.category" 
          name="category"
          required>
      </div>

      <div class="form-group">
        <label for="description">Description</label>
        <textarea 
          id="description" 
          [(ngModel)]="formData.description" 
          name="description"
          rows="4"></textarea>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="onCancel()" [disabled]="loading">
          Cancel
        </button>
        <button type="submit" class="btn btn-primary" [disabled]="loading">
          {{ loading ? 'Saving...' : (isEditing ? 'Update' : 'Create') }}
        </button>
      </div>
    </form>
  </div>
</div>

